---
title: "Git å·¥ä½œæµæœ€ä½³å®è·µ"
description: "å­¦ä¹ ç°ä»£Gitå·¥ä½œæµç¨‹ï¼Œæå‡å›¢é˜Ÿåä½œæ•ˆç‡ã€‚"
date: "2024-03-18"
author: "DevOpså›¢é˜Ÿ"
category: "å¼€å‘å·¥å…·"
tags: ["Git", "ç‰ˆæœ¬æ§åˆ¶", "å›¢é˜Ÿåä½œ", "DevOps"]
image: "https://images.unsplash.com/photo-1556075798-4825dfaaf498?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=2340&q=80"
featured: false
readingTime: 8
---

# Git å·¥ä½œæµæœ€ä½³å®è·µ

Gitæ˜¯ç°ä»£è½¯ä»¶å¼€å‘ä¸­ä¸å¯æˆ–ç¼ºçš„ç‰ˆæœ¬æ§åˆ¶å·¥å…·ï¼ŒæŒæ¡åˆé€‚çš„å·¥ä½œæµç¨‹è‡³å…³é‡è¦ã€‚

## 1. Git Flow å·¥ä½œæµ

### åˆ†æ”¯ç»“æ„
```
main (production)
  â†“
develop (integration)
  â†“
feature/new-feature
hotfix/critical-bug
release/v1.2.0
```

### å¸¸ç”¨å‘½ä»¤
```bash
# åˆ›å»ºåŠŸèƒ½åˆ†æ”¯
git checkout -b feature/user-auth develop

# å®ŒæˆåŠŸèƒ½å¼€å‘
git checkout develop
git merge --no-ff feature/user-auth
git branch -d feature/user-auth

# åˆ›å»ºå‘å¸ƒåˆ†æ”¯
git checkout -b release/v1.2.0 develop
```

## 2. GitHub Flow

### ç®€åŒ–æµç¨‹
1. ä»mainåˆ†æ”¯åˆ›å»ºåŠŸèƒ½åˆ†æ”¯
2. æäº¤ä»£ç å¹¶æ¨é€
3. åˆ›å»ºPull Request
4. ä»£ç å®¡æŸ¥
5. åˆå¹¶åˆ°mainåˆ†æ”¯

```bash
# åˆ›å»ºå¹¶åˆ‡æ¢åˆ°æ–°åˆ†æ”¯
git checkout -b feature/new-api

# æäº¤ä»£ç 
git add .
git commit -m "feat: add new API endpoint"

# æ¨é€åˆ†æ”¯
git push origin feature/new-api
```

## 3. æäº¤ä¿¡æ¯è§„èŒƒ

### Conventional Commits
```
<type>(<scope>): <description>

[optional body]

[optional footer]
```

### æäº¤ç±»å‹
- `feat`: æ–°åŠŸèƒ½
- `fix`: ä¿®å¤bug
- `docs`: æ–‡æ¡£æ›´æ–°
- `style`: æ ¼å¼è°ƒæ•´
- `refactor`: é‡æ„ä»£ç 
- `test`: æµ‹è¯•ç›¸å…³
- `chore`: æ„å»ºè¿‡ç¨‹æˆ–è¾…åŠ©å·¥å…·çš„å˜åŠ¨

### ç¤ºä¾‹
```bash
git commit -m "feat(auth): add login functionality"
git commit -m "fix(api): resolve timeout issue"
git commit -m "docs(readme): update installation guide"
```

## 4. åˆ†æ”¯ä¿æŠ¤ç­–ç•¥

### GitHubåˆ†æ”¯ä¿æŠ¤è§„åˆ™
```yaml
protection_rules:
  - branch: main
    required_status_checks:
      - ci/tests
      - ci/build
    enforce_admins: true
    required_pull_request_reviews:
      required_approving_review_count: 2
      dismiss_stale_reviews: true
```

## 5. ä»£ç å®¡æŸ¥æœ€ä½³å®è·µ

### å®¡æŸ¥è¦ç‚¹
- [ ] ä»£ç é€»è¾‘æ­£ç¡®æ€§
- [ ] æ€§èƒ½è€ƒè™‘
- [ ] å®‰å…¨æ€§æ£€æŸ¥
- [ ] ä»£ç é£æ ¼ä¸€è‡´æ€§
- [ ] æµ‹è¯•è¦†ç›–ç‡

### å®¡æŸ¥å·¥å…·
```bash
# ä½¿ç”¨GitHub CLIè¿›è¡Œå®¡æŸ¥
gh pr review 123 --approve
gh pr review 123 --request-changes -b "éœ€è¦æ·»åŠ å•å…ƒæµ‹è¯•"
```

## 6. å†²çªè§£å†³

### åˆå¹¶å†²çªå¤„ç†
```bash
# æ›´æ–°æœ¬åœ°mainåˆ†æ”¯
git checkout main
git pull origin main

# å›åˆ°åŠŸèƒ½åˆ†æ”¯å¹¶åˆå¹¶main
git checkout feature/new-feature
git merge main

# è§£å†³å†²çªå
git add .
git commit -m "resolve merge conflicts"
```

### ä½¿ç”¨rebaseä¿æŒå†å²æ•´æ´
```bash
# äº¤äº’å¼rebase
git rebase -i HEAD~3

# rebaseåˆ°mainåˆ†æ”¯
git rebase main
```

## 7. è‡ªåŠ¨åŒ–å·¥å…·

### Pre-commit hooks
```yaml
# .pre-commit-config.yaml
repos:
  - repo: https://github.com/pre-commit/pre-commit-hooks
    rev: v4.4.0
    hooks:
      - id: trailing-whitespace
      - id: end-of-file-fixer
      - id: check-yaml
      - id: check-added-large-files
```

### CI/CDé›†æˆ
```yaml
# .github/workflows/ci.yml
name: CI
on: [push, pull_request]
jobs:
  test:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v3
      - name: Run tests
        run: npm test
      - name: Check code style
        run: npm run lint
```

## æ€»ç»“

æœ‰æ•ˆçš„Gitå·¥ä½œæµç¨‹å¯ä»¥ï¼š
- ğŸ”„ æé«˜å›¢é˜Ÿåä½œæ•ˆç‡
- ğŸ›¡ï¸ å‡å°‘ä»£ç å†²çª
- ğŸ“ ä¿æŒæ¸…æ™°çš„é¡¹ç›®å†å²
- ğŸš€ æ”¯æŒæŒç»­é›†æˆ/éƒ¨ç½² 