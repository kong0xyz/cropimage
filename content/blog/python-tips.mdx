---
title: "Python é«˜æ•ˆç¼–ç¨‹æŠ€å·§"
description: "åˆ†äº«å®ç”¨çš„Pythonç¼–ç¨‹æŠ€å·§ï¼Œè®©ä½ çš„ä»£ç æ›´åŠ ä¼˜é›…é«˜æ•ˆã€‚"
date: "2024-03-16"
author: "Pythonå›¢é˜Ÿ"
category: "ç¼–ç¨‹è¯­è¨€"
tags: ["Python", "ç¼–ç¨‹æŠ€å·§", "æœ€ä½³å®è·µ", "æ€§èƒ½ä¼˜åŒ–"]
image: "https://images.unsplash.com/photo-1526379879527-8559ecfcaec0?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=2340&q=80"
featured: false
readingTime: 6
---

# Python é«˜æ•ˆç¼–ç¨‹æŠ€å·§

Pythonä»¥å…¶ç®€æ´ä¼˜é›…çš„è¯­æ³•è‘—ç§°ï¼ŒæŒæ¡ä¸€äº›é«˜çº§æŠ€å·§å¯ä»¥è®©ä½ çš„ä»£ç æ›´åŠ é«˜æ•ˆã€‚

## 1. åˆ—è¡¨æ¨å¯¼å¼

### åŸºç¡€ç”¨æ³•
```python
# ä¼ ç»Ÿæ–¹å¼
squares = []
for x in range(10):
    squares.append(x**2)

# åˆ—è¡¨æ¨å¯¼å¼
squares = [x**2 for x in range(10)]
```

### å¸¦æ¡ä»¶çš„æ¨å¯¼å¼
```python
# ç­›é€‰å¶æ•°çš„å¹³æ–¹
even_squares = [x**2 for x in range(10) if x % 2 == 0]

# åµŒå¥—æ¨å¯¼å¼
matrix = [[j for j in range(3)] for i in range(3)]
```

## 2. ç”Ÿæˆå™¨è¡¨è¾¾å¼

### å†…å­˜æ•ˆç‡
```python
# åˆ—è¡¨æ¨å¯¼å¼ - å ç”¨å†…å­˜
squares_list = [x**2 for x in range(1000000)]

# ç”Ÿæˆå™¨è¡¨è¾¾å¼ - å»¶è¿Ÿè®¡ç®—
squares_gen = (x**2 for x in range(1000000))

# ä½¿ç”¨ç”Ÿæˆå™¨
for square in squares_gen:
    if square > 100:
        break
```

### ç”Ÿæˆå™¨å‡½æ•°
```python
def fibonacci():
    a, b = 0, 1
    while True:
        yield a
        a, b = b, a + b

# ä½¿ç”¨ç”Ÿæˆå™¨
fib = fibonacci()
print([next(fib) for _ in range(10)])
```

## 3. è£…é¥°å™¨æ¨¡å¼

### å‡½æ•°è£…é¥°å™¨
```python
import time
from functools import wraps

def timing_decorator(func):
    @wraps(func)
    def wrapper(*args, **kwargs):
        start = time.time()
        result = func(*args, **kwargs)
        end = time.time()
        print(f"{func.__name__} took {end - start:.4f} seconds")
        return result
    return wrapper

@timing_decorator
def slow_function():
    time.sleep(1)
    return "Done"
```

### ç±»è£…é¥°å™¨
```python
class CountCalls:
    def __init__(self, func):
        self.func = func
        self.count = 0
    
    def __call__(self, *args, **kwargs):
        self.count += 1
        print(f"Call {self.count} of {self.func.__name__}")
        return self.func(*args, **kwargs)

@CountCalls
def say_hello():
    print("Hello!")
```

## 4. ä¸Šä¸‹æ–‡ç®¡ç†å™¨

### ä½¿ç”¨withè¯­å¥
```python
# æ–‡ä»¶æ“ä½œ
with open('file.txt', 'r') as f:
    content = f.read()
# æ–‡ä»¶è‡ªåŠ¨å…³é—­

# è‡ªå®šä¹‰ä¸Šä¸‹æ–‡ç®¡ç†å™¨
class Timer:
    def __enter__(self):
        self.start = time.time()
        return self
    
    def __exit__(self, *args):
        self.end = time.time()
        print(f"Elapsed: {self.end - self.start:.4f}s")

with Timer():
    time.sleep(1)
```

## 5. æ•°æ®ç»“æ„æŠ€å·§

### collectionsæ¨¡å—
```python
from collections import defaultdict, Counter, namedtuple

# defaultdict - é¿å…KeyError
dd = defaultdict(list)
dd['key'].append('value')

# Counter - è®¡æ•°å™¨
text = "hello world"
counter = Counter(text)
print(counter.most_common(3))

# namedtuple - å‘½åå…ƒç»„
Point = namedtuple('Point', ['x', 'y'])
p = Point(1, 2)
print(f"Point: {p.x}, {p.y}")
```

### å­—å…¸æŠ€å·§
```python
# å­—å…¸åˆå¹¶ (Python 3.9+)
dict1 = {'a': 1, 'b': 2}
dict2 = {'c': 3, 'd': 4}
merged = dict1 | dict2

# å­—å…¸æ¨å¯¼å¼
squares_dict = {x: x**2 for x in range(5)}

# é»˜è®¤å€¼å¤„ç†
value = my_dict.get('key', 'default_value')
```

## 6. å‡½æ•°å¼ç¼–ç¨‹

### map, filter, reduce
```python
from functools import reduce

# map - åº”ç”¨å‡½æ•°åˆ°æ¯ä¸ªå…ƒç´ 
numbers = [1, 2, 3, 4, 5]
squared = list(map(lambda x: x**2, numbers))

# filter - è¿‡æ»¤å…ƒç´ 
even_numbers = list(filter(lambda x: x % 2 == 0, numbers))

# reduce - ç´¯ç§¯æ“ä½œ
product = reduce(lambda x, y: x * y, numbers)
```

### é«˜é˜¶å‡½æ•°
```python
def make_multiplier(n):
    return lambda x: x * n

double = make_multiplier(2)
triple = make_multiplier(3)

print(double(5))  # 10
print(triple(5))  # 15
```

## 7. å¼‚å¸¸å¤„ç†

### ä¼˜é›…çš„å¼‚å¸¸å¤„ç†
```python
try:
    result = risky_operation()
except SpecificException as e:
    logger.error(f"Specific error: {e}")
    result = fallback_value
except Exception as e:
    logger.error(f"Unexpected error: {e}")
    raise
else:
    logger.info("Operation succeeded")
finally:
    cleanup_resources()
```

### è‡ªå®šä¹‰å¼‚å¸¸
```python
class ValidationError(Exception):
    def __init__(self, message, field):
        self.message = message
        self.field = field
        super().__init__(self.message)

def validate_email(email):
    if "@" not in email:
        raise ValidationError("Invalid email format", "email")
```

## 8. æ€§èƒ½ä¼˜åŒ–

### ä½¿ç”¨å†…ç½®å‡½æ•°
```python
# å¿«é€Ÿæ±‚å’Œ
numbers = range(1000000)
total = sum(numbers)  # æ¯”å¾ªç¯å¿«

# å¿«é€ŸæŸ¥æ‰¾
items = ['a', 'b', 'c', 'd', 'e']
item_set = set(items)  # O(1) æŸ¥æ‰¾
if 'c' in item_set:
    print("Found!")
```

### åˆ—è¡¨æ“ä½œä¼˜åŒ–
```python
# é¿å…åœ¨å¾ªç¯ä¸­ä¿®æ”¹åˆ—è¡¨
# é”™è¯¯æ–¹å¼
for i, item in enumerate(items):
    if condition(item):
        del items[i]  # å±é™©!

# æ­£ç¡®æ–¹å¼
items = [item for item in items if not condition(item)]
```

## æ€»ç»“

è¿™äº›PythonæŠ€å·§å¯ä»¥å¸®ä½ ï¼š
- âš¡ ç¼–å†™æ›´é«˜æ•ˆçš„ä»£ç 
- ğŸ¯ æé«˜ä»£ç å¯è¯»æ€§
- ğŸ› ï¸ å‡å°‘å¸¸è§é”™è¯¯
- ğŸš€ æå‡å¼€å‘æ•ˆç‡ 